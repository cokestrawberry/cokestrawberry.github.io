# Groot Security Study - Week 1

## DVWA의 내용들에 대해 직접 실습하고 그에대한 보고서를 정리하는 블로그

### 개요
  * 1주차는 Brute Force 공격에 관한 내용이다.
  * 실습은 DVWA를 이용 하였으며, 실습 환경은 작성자의 가상머신에서 이루어졌다(VMWare Fusion - Kali Linux)

### 목차
  1. **취약점(Brute Force) 설명**
    * Brute Force는 단어 뜻 그대로 원하는 결과를 얻을 때 까지 무차별적으로 값을 대입하는 공격 방식이다.
    * 보통 사용자의 id는 암호화 되어 있지 않으므로 사용자 id를 알아낸 뒤 접속이 될때까지 무작위 패스워드를 입력하고, 올바른 패스워드가 입력되었을때 얻은 권한으로 시스템에 접속하여 이후 권한 상승등을 통해 시스템을 장악할 수 있게 한다.

  2. **실습 과정**
    * Burpsuite에서 제공되는 기능을 이용하여 공격을 진행하였다.
    * 관리자 계정 admin에 대해 brute force 공격을 진행하기 위해 kali linux에서 제공하는 흔히 사용되는 패스워드 목록 파일을 payload로 업로드 하였다.

    ![Screenshot_of_uploaded_password_list](/assets/230527/230527_screenshot_1.png)

    * 이후 start attack을 눌러 공격을 시작하면 준비된 패스워드 목록에 대해 각각 로그인을 시도한다
    * 이때 다른 패스워드와는 다른 값을 리턴하는 패스워드가 있는데, 이 패스워드를 이용하여 로그인을 시도해 본다.

    ![Screenshot_of_trying_password_list](/assets/230527/230527_screenshot_2.png)

    * 해당 패스워드를 이용하여 DVWA에서 id = admin, password = password로 로그인을 시도하면 로그인에 성공했다는 화면이 뜬다

    ![Screenshot_of_result_of_brute_force_attack](/assets/230527/230527_screenshot_3.png)

  3. **원인 분석**
    - 다음의 코드가 DVWA의 brute force 실습 페이지인데, 입력받은 아이디와 패스워드를 단순히 데이터베이스와 비교하여 존재하는 조합인지 아닌지만 판단하여 결과를 리턴해준다.

    ![Screenshot_of_low.php](/assets/230527/230527_screenshot_4.png)

    * 해당 페이지는 시큐어 코딩이 전혀 되어있지 않은 상황이다.

  4. **예상 대응 방안**
    * 로그인 시도 횟수를 제한하여 그 이상 로그인을 시도할 수 없게 하거나 비밀번호를 강제로 변경하게 한다.
      * 새로운 변수 login_trial와 acount_lock도입
      * login_trial : 로그인을 시도한 횟수(초기 값: 0)
      * acount_lock : 계정 잠금에 대한 boolean 값(초기 값: FALSE)
      * 로그인에 실패할 때 마다 login_trial의 값 1씩 증가
      * 지정된 횟수 (예: 5회)에 도달하면 acount_lock의 값 TRUE로 변경. 즉, 계정을 잠궈 접속 시도 불가능 하게 만듦